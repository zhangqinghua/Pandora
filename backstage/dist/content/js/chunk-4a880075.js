(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4a880075"],{"16d8":function(t,e,i){"use strict";i.r(e);i("493e"),i("9a76");var o=i("7cf6"),a=i("cebe"),n=i.n(a),d={minHeight:"200px",previewStyle:"vertical",useCommandShortcut:!0,useDefaultHTMLSanitizer:!0,usageStatistics:!1,hideModeSwitch:!1,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","image","link","divider","code","codeblock"]},o={name:"MarkdownEditor",props:{value:{type:String,default:""},id:{type:String,required:!1,default:function(){return"markdown-editor-"+ +new Date+(1e3*Math.random()).toFixed(0)+""}},options:{type:Object,default:function(){return d}},mode:{type:String,default:"markdown"},height:{type:String,required:!1,default:"300px"},language:{type:String,required:!1,default:"zh_CN"}},components:{editor:o.Editor},data:function(){return{editor:null,editorText:"This is initialValue."}},computed:{editorOptions:function(){var t=Object.assign({},d,this.options);return t.initialEditType=this.mode,t.height=this.height,t.language=this.language,t}},mounted:function(){var i=this;this.editor=this.$refs[this.id].editor,this.editor&&(this.editor.eventManager.removeEventHandler("addImageBlobHook"),this.editor.eventManager.listen("addImageBlobHook",function(t,e){i.uploadImg(t,function(t){e(t)})}))},destroyed:function(){this.destroyEditor()},methods:{onEditorChange:function(t){var e=this.$refs[this.id].invoke("getHtml");this.$emit("change",e)},uploadImg:function(t,e){var i=new FormData;i.append("image",t),n()({url:"/api/upload/files",method:"post",data:i,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){200===t.status&&t.data&&t.data.data&&e(t.data.data.path)})},destroyEditor:function(){}}},i=(i("656f"),i("5d22")),o=Object(i.a)(o,function(){var t=this,e=t.$createElement;return(t._self._c||e)("editor",{ref:t.id,staticClass:"myEditor",attrs:{initialValue:t.value,options:t.editorOptions,height:t.height,initialEditType:t.mode,previewStyle:"vertical"},on:{change:t.onEditorChange}})},[],!1,null,null,null);e.default=o.exports},"656f":function(t,e,i){"use strict";i("cb24")},"7fea":function(t,e,i){(t.exports=i("690e")(!1)).push([t.i,".myEditor .tui-editor-defaultUI{-webkit-box-shadow:0 2px 12px 0 rgb(0 0 0/10%);box-shadow:0 2px 12px 0 rgb(0 0 0/10%);border-radius:4px;overflow:hidden}",""])},cb24:function(t,e,i){var o=i("7fea");(o="string"==typeof(o=o.__esModule?o.default:o)?[[t.i,o,""]]:o).locals&&(t.exports=o.locals);(0,i("5925").default)("b5c7e4a2",o,!0,{sourceMap:!1,shadowMode:!1})}}]);